<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <title>üíò –¢–≤–æ—è –æ—Ç–∫—Ä—ã—Ç–∫–∞</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      /* === –°–¢–ò–õ–ò –ù–ï –¢–†–û–ù–£–¢–´ === */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", "Segoe UI", sans-serif;
        -webkit-tap-highlight-color: transparent;
      }
      body {
        min-height: 100vh;
        background: radial-gradient(circle at 10% 30%, #ffe6f0, #ffb6c1);
        background-attachment: fixed;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 16px;
        overflow: hidden;
      }
      .floating-heart {
        position: fixed;
        top: -10vh;
        font-size: 24px;
        color: rgba(255, 80, 120, 0.35);
        animation: fall 10s linear infinite;
        pointer-events: none;
        z-index: 1;
      }
      @keyframes fall {
        0% {
          transform: translateY(-10vh) rotate(0deg);
          opacity: 0.8;
        }
        100% {
          transform: translateY(110vh) rotate(360deg);
          opacity: 0.2;
        }
      }
      .card {
        width: 100%;
        max-width: 700px;
        background: rgba(255, 245, 245, 0.8);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-radius: 48px 48px 32px 32px;
        box-shadow:
          0 25px 40px rgba(220, 20, 60, 0.2),
          0 0 0 2px rgba(255, 255, 255, 0.5) inset;
        padding: 40px 30px;
        position: relative;
        z-index: 20;
        border: 1px solid rgba(255, 200, 210, 0.7);
        text-align: center;
      }
      .card::before {
        content: "‚ù§Ô∏è";
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 40px;
        color: #ff4d6d;
        text-shadow: 0 0 15px white;
        background: rgba(255, 255, 240, 0.7);
        padding: 5px 20px;
        border-radius: 50px;
        backdrop-filter: blur(4px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        font-size: 2.3rem;
        font-weight: 700;
        color: #b13b4b;
        text-shadow:
          2px 2px 0 #ffe9f0,
          4px 4px 10px rgba(255, 105, 180, 0.3);
        letter-spacing: 2px;
        margin-bottom: 45px;
        margin-top: 20px;
        animation: pulse 2s infinite ease-in-out;
      }
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.02);
          text-shadow:
            4px 4px 0 #ffe9f0,
            8px 8px 15px hotpink;
        }
      }
      .buttons {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 25px;
        margin: 30px 0;
        min-height: 120px;
      }
      .btn-yes,
      .btn-no {
        border: none;
        padding: 16px 40px;
        font-size: 1.8rem;
        font-weight: bold;
        border-radius: 60px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        letter-spacing: 2px;
        border: 2px solid white;
        min-width: 160px;
        transition:
          transform 0.1s ease,
          box-shadow 0.1s ease;
        touch-action: none;
      }
      .btn-yes {
        background: linear-gradient(145deg, #ff758c, #ff4d6d);
        color: white;
        text-shadow: 0 2px 0 #a11f33;
        border-bottom: 6px solid #b33b4b;
        box-shadow:
          0 10px 0 #b33b4b,
          0 12px 25px rgba(200, 0, 80, 0.3);
        z-index: 100;
      }
      .btn-yes i {
        animation: heartbeat 1.3s infinite;
      }
      @keyframes heartbeat {
        0%,
        100% {
          transform: scale(1);
        }
        25% {
          transform: scale(1.2);
        }
        50% {
          transform: scale(0.9);
        }
      }
      .btn-no {
        background: linear-gradient(145deg, #444, #222);
        color: #eee;
        text-shadow: 0 2px 0 black;
        border-bottom: 6px solid #111;
        box-shadow:
          0 10px 0 #1a1a1a,
          0 12px 25px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        position: relative;
      }
      .btn-no.runaway {
        position: fixed;
        margin: 0 !important;
        right: auto !important;
        bottom: auto !important;
        transition:
          left 0.2s ease-out,
          top 0.2s ease-out;
      }
      .btn-no i {
        color: #ff9999;
      }
      .message-area {
        min-height: 80px;
        margin-top: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.5rem;
        font-weight: 600;
        color: #a13e4a;
        background: rgba(255, 215, 220, 0.5);
        backdrop-filter: blur(8px);
        border-radius: 60px;
        padding: 15px 25px;
        border: 2px dashed #ff8c9a;
        text-align: center;
        visibility: hidden;
        transition: 0.2s;
        box-shadow: 0 5px 15px rgba(255, 140, 170, 0.3);
      }
      .message-area.visible {
        visibility: visible;
        animation: popIn 0.4s ease-out;
      }
      @keyframes popIn {
        0% {
          opacity: 0;
          transform: scale(0.5) translateY(20px);
        }
        100% {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }
      .screamer-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.95);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        backdrop-filter: blur(15px);
      }
      .screamer-content {
        background: radial-gradient(circle at 30% 30%, #ff1a1a, #660000);
        padding: 40px;
        border-radius: 50%;
        width: 380px;
        height: 380px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border: 10px solid white;
        box-shadow: 0 0 100px red;
        color: white;
        text-align: center;
        animation: pop 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      }
      .screamer-content i {
        font-size: 100px;
        margin-bottom: 20px;
        color: #ffe600;
      }
      .screamer-content h2 {
        font-size: 48px;
        font-weight: 900;
        text-transform: uppercase;
        text-shadow: 5px 5px 0 black;
      }

      /* === –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –°–¢–ò–õ–ò –î–õ–Ø –õ–ò–°–¢–ö–ê –ë–£–ú–ê–ì–ò, –¶–í–ï–¢–û–í –ò –§–ï–ô–ï–†–í–ï–†–ö–û–í === */
      .final-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(40, 10, 20, 0.6);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 5000;
        backdrop-filter: blur(8px);
      }
      #fireworksCanvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }
      .paper-sheet {
        background: #fffdf5;
        background-image:
          linear-gradient(
            90deg,
            transparent 39px,
            #abced4 39px,
            #abced4 41px,
            transparent 41px
          ),
          linear-gradient(#eee 1px, transparent 1px);
        background-size:
          100% 100%,
          100% 25px;
        width: 90%;
        max-width: 450px;
        padding: 80px 40px;
        border-radius: 2px;
        box-shadow:
          0 20px 50px rgba(0, 0, 0, 0.4),
          5px 5px 0px #e0d8c0;
        position: relative;
        text-align: center;
        border: 1px solid #d4ccb0;
        animation: paperPop 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }
      @keyframes paperPop {
        0% {
          transform: scale(0.5) translateY(100px) rotate(-15deg);
          opacity: 0;
        }
        100% {
          transform: scale(1) translateY(0) rotate(0deg);
          opacity: 1;
        }
      }
      .paper-sheet h2 {
        font-size: 3.5rem;
        color: #c44557;
        font-family: "Brush Script MT", cursive, "Dancing Script", sans-serif;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        line-height: 1.2;
      }
      .bouquet {
        position: absolute;
        font-size: 120px; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä */
        bottom: -40px;
        filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.2));
        animation: bouquetAppear 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275)
          forwards;
        opacity: 0;
        z-index: 5001;
      }
      .bouquet-left {
        left: -60px;
        animation-delay: 0.4s;
      }
      .bouquet-right {
        right: -60px;
        animation-delay: 0.6s;
      }
      @keyframes bouquetAppear {
        0% {
          transform: translateY(50px) scale(0) rotate(-45deg);
          opacity: 0;
        }
        100% {
          transform: translateY(0) scale(1) rotate(0deg);
          opacity: 1;
        }
      }

      @media (max-width: 600px) {
        h1 {
          font-size: 1.6rem;
        }
        .btn-yes,
        .btn-no {
          padding: 12px 24px;
          font-size: 1.4rem;
          min-width: 120px;
        }
        .card {
          padding: 30px 15px;
          border-radius: 32px;
        }
        .screamer-content {
          width: 280px;
          height: 280px;
        }
        .screamer-content h2 {
          font-size: 30px;
        }
        .bouquet {
          font-size: 80px;
        }
        .bouquet-left {
          left: -30px;
        }
        .bouquet-right {
          right: -30px;
        }
      }
      /* –ù–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ª–µ—Ç–∞—é—â–µ–π –∫–Ω–æ–ø–∫–∏ */
      #noContainer {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 2000;
      }
    </style>
  </head>
  <body>
    <div id="heart-container"></div>
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏ -->
    <div id="noContainer"></div>

    <div class="card" id="mainCard">
      <h1>‚ù§Ô∏è –û—Å—Ç–∞–Ω–µ—à—å—Å—è —Å–æ –º–Ω–æ–π –ø–æ—Å–ª–µ —à–∫–æ–ª—ã? ‚ù§Ô∏è</h1>

      <div class="buttons">
        <button class="btn-yes" id="yesBtn">
          <i class="fas fa-heart"></i> –î–ê
        </button>
        <button class="btn-no" id="noBtn">
          <i class="fas fa-skull"></i> –ù–ï–¢
        </button>
      </div>

      <div class="message-area" id="messageBox">
        <i
          class="fas fa-heart-broken"
          style="margin-right: 12px; color: #ff4d6d; font-size: 1.8rem"
        ></i>
        <span id="messageText"></span>
      </div>
    </div>

    <div class="screamer-overlay" id="screamer">
      <div class="screamer-content">
        <i class="fas fa-ghost"></i>
        <h2>–ë–£!</h2>
        <p style="font-size: 20px; margin-top: 15px">–í—Å–µ —Ä–∞–≤–Ω–æ –æ—Å—Ç–∞–Ω–µ—à—å—Å—è ‚ù§Ô∏è</p>
      </div>
    </div>

    <!-- –§–ò–ù–ê–õ–¨–ù–´–ô –õ–ò–°–¢–û–ö –° –§–ï–ô–ï–†–í–ï–†–ö–ê–ú–ò -->
    <div class="final-overlay" id="finalOverlay">
      <canvas id="fireworksCanvas"></canvas>
      <div class="paper-sheet">
        <h2>–õ—é–±–ª—é —Ç–µ–±—è</h2>
        <div class="bouquet bouquet-left">üíê</div>
        <div class="bouquet bouquet-right">üíê</div>
      </div>
    </div>

    <script>
      (function () {
        "use strict";

        const noBtn = document.getElementById("noBtn");
        const yesBtn = document.getElementById("yesBtn");
        const messageBox = document.getElementById("messageBox");
        const messageText = document.getElementById("messageText");
        const screamer = document.getElementById("screamer");
        const noContainer = document.getElementById("noContainer");
        const finalOverlay = document.getElementById("finalOverlay");
        const canvas = document.getElementById("fireworksCanvas");
        const ctx = canvas.getContext("2d");

        let count = 0;
        let activeNoBtn = noBtn;

        const phrases = [
          "–ù–µ—É–∂–µ–ª–∏ –ø—Ä–∞–≤–¥–∞ –Ω–µ—Ç?",
          "–ê –º–æ–∂–µ—Ç –ø–æ–¥—É–º–∞–µ—à—å?",
          "–ù—É –∫–∞–∫ —Ç–∞–∫ —Ç–æ",
          "–ù—É –º–æ–∂–µ–µ—Ç –Ω–∞–∂–º–µ—à—å –¥–∞?",
          "–í–æ—Ç –∫–∞–∫, –Ω—É –∏ –ª–∞–¥–Ω–æ",
          "–í–æ—Ç –∫–∞–∫, –Ω—É –∏ –ª–∞–¥–Ω–æ",
        ];

        /* --- –õ–û–ì–ò–ö–ê –§–ï–ô–ï–†–í–ï–†–ö–û–í --- */
        let particles = [];
        function createParticle(x, y) {
          const count = 30;
          const colors = [
            "#ff4d6d",
            "#ffeb3b",
            "#03a9f4",
            "#e91e63",
            "#ffffff",
          ];
          for (let i = 0; i < count; i++) {
            particles.push({
              x: x,
              y: y,
              angle: Math.random() * Math.PI * 2,
              speed: Math.random() * 6 + 2,
              friction: 0.95,
              gravity: 0.1,
              life: 1,
              decay: Math.random() * 0.02 + 0.01,
              color: colors[Math.floor(Math.random() * colors.length)],
            });
          }
        }

        function animateFireworks() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          particles.forEach((p, i) => {
            p.speed *= p.friction;
            p.x += Math.cos(p.angle) * p.speed;
            p.y += Math.sin(p.angle) * p.speed + p.gravity;
            p.life -= p.decay;
            if (p.life <= 0) particles.splice(i, 1);
            else {
              ctx.globalAlpha = p.life;
              ctx.fillStyle = p.color;
              ctx.beginPath();
              ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
              ctx.fill();
            }
          });
          if (finalOverlay.style.display === "flex") {
            if (Math.random() < 0.05)
              createParticle(
                Math.random() * canvas.width,
                Math.random() * canvas.height * 0.5,
              );
            requestAnimationFrame(animateFireworks);
          }
        }

        function startFireworks() {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
          animateFireworks();
        }

        function createFloatingHeart() {
          const heart = document.createElement("div");
          heart.className = "floating-heart";
          heart.innerHTML = "‚ù§Ô∏è";
          heart.style.left = Math.random() * 100 + "%";
          heart.style.fontSize = Math.random() * 20 + 20 + "px";
          heart.style.animationDuration = Math.random() * 5 + 5 + "s";
          document.body.appendChild(heart);
          setTimeout(() => heart.remove(), 10000);
        }
        setInterval(createFloatingHeart, 500);

        function moveNoButton(e) {
          if (e) e.preventDefault();
          if (activeNoBtn === noBtn) {
            noBtn.style.display = "none";
            const newBtn = document.createElement("button");
            newBtn.className = "btn-no runaway";
            newBtn.innerHTML = noBtn.innerHTML;
            newBtn.style.pointerEvents = "auto";
            noContainer.appendChild(newBtn);
            activeNoBtn = newBtn;
            activeNoBtn.addEventListener("mouseenter", moveNoButton);
            activeNoBtn.addEventListener("touchstart", moveNoButton, {
              passive: false,
            });
            activeNoBtn.addEventListener("click", (ev) => {
              ev.preventDefault();
              moveNoButton(ev);
            });
          }

          count++;
          if (count <= 5) {
            messageText.textContent = phrases[count - 1];
            messageBox.classList.add("visible");
          } else {
            messageText.textContent = "–•–≤–∞—Ç–∏—Ç –ø—ã—Ç–∞—Ç—å—Å—è, –∂–º–∏ –î–ê!";
          }

          if (count === 7) {
            screamer.style.display = "flex";
            setTimeout(() => {
              screamer.style.display = "none";
            }, 2200);
          }

          const winW = window.innerWidth;
          const winH = window.innerHeight;
          const btnRect = activeNoBtn.getBoundingClientRect();
          const btnW = btnRect.width;
          const btnH = btnRect.height;
          const limitW = winW * 0.8;
          const limitH = winH * 0.8;
          const minX = (winW - limitW) / 2;
          const minY = (winH - limitH) / 2;
          const maxX = minX + limitW - btnW;
          const maxY = minY + limitH - btnH;
          let newX = Math.random() * (maxX - minX) + minX;
          let newY = Math.random() * (maxY - minY) + minY;
          activeNoBtn.style.left = newX + "px";
          activeNoBtn.style.top = newY + "px";
        }

        noBtn.addEventListener("mouseenter", moveNoButton);
        noBtn.addEventListener("touchstart", moveNoButton, { passive: false });
        noBtn.addEventListener("click", (e) => {
          e.preventDefault();
          moveNoButton(e);
        });

        yesBtn.addEventListener("click", () => {
          messageText.textContent = "üíñ –Ø –¢–û–ñ–ï –¢–ï–ë–Ø –û–ß–ï–ù–¨ –°–ò–õ–¨–ù–û –õ–Æ–ë–õ–Æ!!! üíñ";
          messageBox.style.background = "rgba(255,180,210,0.9)";
          messageBox.classList.add("visible");

          noBtn.style.display = "none";
          if (activeNoBtn !== noBtn) activeNoBtn.style.display = "none";

          finalOverlay.style.display = "flex";
          startFireworks();

          for (let i = 0; i < 40; i++) {
            setTimeout(createFloatingHeart, i * 60);
          }
          yesBtn.style.transform = "scale(1.2)";
          setTimeout(() => (yesBtn.style.transform = "scale(1)"), 200);
        });
      })();
    </script>

    <div
      style="
        position: fixed;
        bottom: 12px;
        right: 20px;
        color: rgba(180, 60, 80, 0.5);
        font-size: 14px;
        z-index: 100;
        backdrop-filter: blur(2px);
        padding: 6px 15px;
        border-radius: 40px;
        background: rgba(255, 255, 255, 0.3);
      "
    >
      <i class="fas fa-heart"></i> –¥–ª—è —Ç–µ–±—è —Å –ª—é–±–æ–≤—å—é
    </div>
  </body>
</html>
